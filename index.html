<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Juego de LootBoxes</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>Juego de LootBoxes de Cartas</h1>
        
        <div class="coins">
            <i>💰</i> <span id="coins">1000</span>
        </div>
        
        <div class="nav">
            <button class="nav-btn active" data-section="shop">Tienda</button>
            <button class="nav-btn" data-section="inventory">Inventario</button>
            <button class="nav-btn" data-section="collection">Colección</button>
            <button class="nav-btn" data-section="creator">Creador de Cartas</button>
            <button class="nav-btn" data-section="database">Base de Datos</button>
        </div>
        
        <div id="shop" class="section active">
            <h2>Selecciona una LootBox</h2>
            <div class="lootboxes">
                <div class="lootbox" data-type="normal">
                    <div class="lootbox-img normal">📦</div>
                    <h3>LootBox Normal</h3>
                    <p>Contiene cartas comunes</p>
                    <div class="price">0 monedas</div>
                    <button class="open-btn" data-type="normal">Abrir</button>
                </div>
                
                <div class="lootbox" data-type="premium">
                    <div class="lootbox-img premium">💎</div>
                    <h3>LootBox Premium</h3>
                    <p>Contiene cartas raras</p>
                    <div class="price">500 monedas</div>
                    <button class="open-btn" data-type="premium">Abrir</button>
                </div>
                
                <div class="lootbox" data-type="legendary">
                    <div class="lootbox-img legendary">🔥</div>
                    <h3>LootBox Legendaria</h3>
                    <p>Contiene cartas épicas</p>
                    <div class="price">1500 monedas</div>
                    <button class="open-btn" data-type="legendary">Abrir</button>
                </div>
            </div>
        </div>
        
        <div id="inventory" class="section">
            <h2>Tu Inventario de Cartas</h2>
            <div class="inventory-header">
                <div class="total-cards">Total de cartas: <span id="total-cards">0</span></div>
                <div class="total-value">Valor total: <span id="total-value">0</span> monedas</div>
                <div class="inventory-controls">
                    <button class="sell-all-btn" id="sell-all-normal">Vender Todas las Normales</button>
                    <button class="sell-all-btn" id="sell-all-duplicates">Vender Cartas Repetidas</button>
                    <select id="type-filter">
                        <option value="all">Todos los tipos</option>
                    </select>
                </div>
            </div>
            <div class="search-bar inventory-search">
                <input type="text" id="inventory-search" placeholder="Buscar cartas en inventario...">
                <button id="inventory-search-btn">🔍</button>
            </div>
            <div class="inventory" id="cards-container">
            </div>
        </div>
        
        <div id="collection" class="section">
            <h2>Tu Colección Completa</h2>
            <div class="collection-header">
                <div class="collection-stats">
                    <div class="stat">
                        <span class="stat-label">Cartas Obtenidas:</span>
                        <span class="stat-value" id="collected-count">0</span>
                    </div>
                    <div class="stat">
                        <span class="stat-label">Cartas Totales:</span>
                        <span class="stat-value" id="total-collection-count">0</span>
                    </div>
                    <div class="stat">
                        <span class="stat-label">Progreso:</span>
                        <span class="stat-value" id="collection-progress">0%</span>
                    </div>
                </div>
                <div class="collection-controls">
                    <select id="collection-type-filter">
                        <option value="all">Todos los tipos</option>
                    </select>
                </div>
            </div>
            <div class="search-bar collection-search">
                <input type="text" id="collection-search" placeholder="Buscar cartas en colección...">
                <button id="collection-search-btn">🔍</button>
            </div>
            <div class="collection-container" id="collection-container">
            </div>
        </div>
        
        <div id="creator" class="section">
            <h2>Creador de Cartas</h2>
            <div class="card-creator">
                <div class="form-group">
                    <label for="card-name">Nombre de la carta:</label>
                    <input type="text" id="card-name" placeholder="Ej: Dragón de Fuego">
                </div>
                
                <div class="form-group">
                    <label for="card-rarity">Rareza:</label>
                    <select id="card-rarity">
                        <option value="normal">Normal</option>
                        <option value="premium">Premium</option>
                        <option value="legendary">Legendaria</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="card-type">Tipo/Colección:</label>
                    <input type="text" id="card-type" placeholder="Ej: Criaturas Míticas" list="type-suggestions">
                    <datalist id="type-suggestions"></datalist>
                </div>
                
                <div class="form-group">
                    <label for="card-price">Precio de venta:</label>
                    <input type="number" id="card-price" placeholder="Ej: 50" min="1" value="50">
                </div>
                
                <div class="form-group">
                    <label for="card-image">URL de la imagen:</label>
                    <input type="text" id="card-image" placeholder="Ej: https://ejemplo.com/imagen.jpg">
                    <small>Puedes usar enlaces de imágenes online</small>
                </div>
                
                <button id="create-card-btn" class="create-btn">Crear Carta</button>
                
                <div class="created-cards">
                    <h3>Tus Cartas Creadas</h3>
                    <div id="custom-cards-container" class="inventory">
                    </div>
                </div>
            </div>
        </div>
        
        <div id="database" class="section">
            <h2>Base de Datos de Cartas</h2>
            <div class="database-controls">
                <div class="search-bar">
                    <input type="text" id="search-cards" placeholder="Buscar cartas...">
                    <button id="search-btn">🔍</button>
                </div>
                <div class="filters">
                    <select id="rarity-filter">
                        <option value="all">Todas las rarezas</option>
                        <option value="normal">Normal</option>
                        <option value="premium">Premium</option>
                        <option value="legendary">Legendaria</option>
                    </select>
                    <select id="type-filter-db">
                        <option value="all">Todos los tipos</option>
                    </select>
                </div>
                <div class="import-export">
                    <button class="export-btn" id="export-btn">📤 Exportar BD</button>
                    <button class="import-btn" id="import-btn">📥 Importar BD</button>
                    <input type="file" id="import-file" accept=".json" style="display: none;">
                    <button class="reset-btn" id="reset-btn">🔄 Resetear BD</button>
                </div>
            </div>
            <div class="database-stats">
                <div class="stat">
                    <span class="stat-label">Cartas Normales:</span>
                    <span class="stat-value" id="normal-count">0</span>
                </div>
                <div class="stat">
                    <span class="stat-label">Cartas Premium:</span>
                    <span class="stat-value" id="premium-count">0</span>
                </div>
                <div class="stat">
                    <span class="stat-label">Cartas Legendarias:</span>
                    <span class="stat-value" id="legendary-count">0</span>
                </div>
            </div>
            <div class="database-cards" id="database-container">
            </div>
        </div>
        
        <div class="opening-animation" id="opening-animation">
            <div class="card-reveal" id="card-reveal"></div>
            <div class="quick-sell-options" id="quick-sell-options">
                <button class="quick-sell-btn" id="quick-sell-btn">Vender Carta</button>
                <button class="quick-keep-btn" id="quick-keep-btn">Guardar Carta</button>
            </div>
        </div>
        
        <div class="modal" id="sell-modal">
            <div class="modal-content">
                <h3>Vender Carta</h3>
                <p id="sell-message">¿Estás seguro de que quieres vender esta carta?</p>
                <div class="modal-card-preview" id="modal-card-preview"></div>
                <div class="modal-actions">
                    <button class="modal-btn confirm" id="confirm-sell">Vender por <span id="sell-price">0</span> monedas</button>
                    <button class="modal-btn cancel" id="cancel-sell">Cancelar</button>
                </div>
            </div>
        </div>
        
        <div class="modal" id="edit-modal">
            <div class="modal-content">
                <h3>Editar Carta</h3>
                <div class="form-group">
                    <label for="edit-name">Nombre:</label>
                    <input type="text" id="edit-name">
                </div>
                <div class="form-group">
                    <label for="edit-rarity">Rareza:</label>
                    <select id="edit-rarity">
                        <option value="normal">Normal</option>
                        <option value="premium">Premium</option>
                        <option value="legendary">Legendaria</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="edit-type">Tipo/Colección:</label>
                    <input type="text" id="edit-type" list="edit-type-suggestions">
                    <datalist id="edit-type-suggestions"></datalist>
                </div>
                <div class="form-group">
                    <label for="edit-price">Precio:</label>
                    <input type="number" id="edit-price" min="1">
                </div>
                <div class="form-group">
                    <label for="edit-image">URL de la imagen:</label>
                    <input type="text" id="edit-image">
                </div>
                <div class="modal-actions">
                    <button class="modal-btn confirm" id="confirm-edit">Guardar Cambios</button>
                    <button class="modal-btn cancel" id="cancel-edit">Cancelar</button>
                </div>
            </div>
        </div>
        
        <div class="modal" id="sell-duplicates-modal">
            <div class="modal-content">
                <h3>Vender Cartas Repetidas</h3>
                <div id="duplicates-list"></div>
                <div class="duplicates-total">
                    Total a recibir: <span id="duplicates-total">0</span> monedas
                </div>
                <div class="modal-actions">
                    <button class="modal-btn confirm" id="confirm-sell-duplicates">Vender Cartas Seleccionadas</button>
                    <button class="modal-btn cancel" id="cancel-sell-duplicates">Cancelar</button>
                </div>
            </div>
        </div>
        
        <div class="modal" id="sell-variant-modal">
            <div class="modal-content">
                <h3>Seleccionar Carta para Vender</h3>
                <p id="variant-message"></p>
                <div class="variants-list" id="variants-list"></div>
                <div class="modal-actions">
                    <button class="modal-btn cancel" id="cancel-sell-variant">Cancelar</button>
                </div>
            </div>
        </div>
        
        <div class="image-modal" id="image-modal">
            <div class="image-modal-content">
                <span class="close-btn" id="close-image-modal">&times;</span>
                <img id="expanded-image" src="" alt="Carta expandida">
                <div class="image-modal-info">
                    <h3 id="expanded-card-name"></h3>
                    <div id="expanded-card-rarity"></div>
                    <div id="expanded-card-type"></div>
                    <div id="expanded-card-price"></div>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
